header:
  version: 17
repos:
  meta-ethantwardy:
    path: layers/
    layers:
      meta-gadget:

  meta-yocto:
    url: https://git.yoctoproject.org/git/meta-yocto
    branch: whinlatter
    path: layers/meta-yocto
    layers:
      meta-poky:
      meta-yocto-bsp:

  meta-openembedded:
    url: https://git.openembedded.org/meta-openembedded
    branch: whinlatter
    path: layers/meta-openembedded
    patches:
      0001:
        repo: meta-ethantwardy
        path: ../kas/0001-postfix-Remove-postinst-ontarget-task.patch
    layers:
      meta-oe:
      meta-multimedia:
      meta-networking:
      meta-python:

  meta-rauc:
    url: https://github.com/rauc/meta-rauc.git
    branch: whinlatter
    path: layers/meta-rauc

  meta-cyclonedx:
    url: https://github.com/iris-GmbH/meta-cyclonedx.git
    branch: whinlatter
    path: layers/meta-cyclonedx

  openembedded-core:
    url: https://git.openembedded.org/openembedded-core
    branch: whinlatter
    path: layers/openembedded-core
    layers:
      meta:

# Pass these environment variables through to bitbake
env:
  RAUC_KEY_FILE: null
  RAUC_CERT_FILE: null
  RAUC_KEYRING_FILE: null

local_conf_header:
  users: |
    USERADDEXTENSION = "useradd-staticids"
    USERADD_ERROR_DYNAMIC = "error"
    USERADD_UID_TABLES = "files/passwd"
    USERADD_GID_TABLES = "files/group"
  host: |
    BB_PRESSURE_MAX_CPU = "200000"
    BB_PRESSURE_MAX_MEMORY = "250000"
    INHERIT += "buildhistory cyclonedx-export"
